
<!doctype html>
<html lang="en">

<head>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-V273PTS9DR');
    </script>
    <meta charset="utf-8">
    <title>ChemDoodle Web Components | Demos > 3D Coordinate Generation</title>
    
    <!--these two are required by the ChemDoodle Web Components library-->
    <link rel="stylesheet" href="ChemDoodle/ChemDoodleWeb.css" type="text/css">
    <script type="text/javascript" src="ChemDoodle/ChemDoodleWeb.js"></script>
    <!--these two are required by the SketcherCanvas plugin-->
    <link rel="stylesheet" href="ChemDoodle/uis/jquery-ui-1.11.4.custom.css" type="text/css">
    <script type="text/javascript" src="ChemDoodle/uis/ChemDoodleWeb-uis.js"></script>

    <script>
        ChemDoodle.iChemLabs.SERVER_URL = '/cdcloud.php';
    </script>
    
</head>


<body data-smooth-scroll-offset="77">
    <div class="nav-container">
    
</div>    
        <script>
            // Get the modal
            let modal = document.getElementById("myModal");
            // Get the <span> element that closes the modal
            let span = document.getElementsByClassName("close")[0];
            // When the user clicks on <span> (x), close the modal
            span.onclick = function() {
                modal.style.display = "none";
            }
            // When the user clicks anywhere outside of the modal, close it
            /*window.onclick = function(event) {
                if (event.target === modal) {
                    modal.style.display = "none";
                }
            }*/
            window.oldalert = window.alert;
            window.alert = function(message){
                if(message.indexOf('exceeded')==-1){
                    window.oldalert(message);
                }else{
                    modal.style.display = "block";
                }
            };
        </script>

    </div>
    <div class="main-container">
        <section id="main-section" class="text-left pt-5">
            <div class="container">
                <div class="row d-flex justify-content-center">
                    <div class="col-md-10 col-lg-8">
                        <h2>Demos > 3D Coordinate Generation</h2>
                                            </div>
                </div>
                <div class="row d-flex justify-content-center">
                    <div class="col-md-10 col-lg-8">

<script>
if (!ChemDoodle.featureDetection.supports_webgl()) {
    document.write(
        '<a href="http://learningwebgl.com/blog/?p=11">Click here</a> for instructions for obtaining a browser with <strong>WebGL</strong> enabled.'
        );
}
</script>


<p>The 3D model is generated by the <a href="http://cactus.nci.nih.gov/chemical/structure">Chemical Identifier
        Resolver</a>, </p>

</div></div><div class="row pt-5 d-flex justify-content-center"><div class="col-12">
<div class="row d-flex justify-content-center">
    <div class="col-lg-7 text-center">
        <script>
        //ChemDoodle.ELEMENT['H'].jmolColor = 'black';
        //ChemDoodle.ELEMENT['S'].jmolColor = '#B9A130';
        let sketcher = new ChemDoodle.SketcherCanvas('sketcher', 475, 300, {
            useServices: false,
            oneMolecule: true
        });
        sketcher.styles.atoms_displayTerminalCarbonLabels_2D = true;
        sketcher.styles.atoms_useJMOLColors = true;
        sketcher.styles.bonds_clearOverlaps_2D = true;
        sketcher.styles.bonds_overlapClearWidth_2D = 2;
        sketcher.repaint();
        </script>
    </div>
    <div class="col-lg-5 text-center pt-4 pt-lg-0">
        <div class="row d-flex justify-content-center"><a  href="#customise-template" onclick="get3DModel();">  Get 3D Model </a></div><br>        
        
        <script>
        function alertMOL() {
            let save = ChemDoodle.DEFAULT_STYLES.bondLength_2D;
            ChemDoodle.DEFAULT_STYLES.bondLength_2D = 1;
            alert(ChemDoodle.writeMOL(transformer3d.getMolecule()));
            ChemDoodle.DEFAULT_STYLES.bondLength_2D = save;
        }
        let transformer3d = new ChemDoodle.TransformCanvas3D('transformer3d', 400, 400);
        transformer3d.styles.set3DRepresentation('Ball and Stick');
        transformer3d.styles.backgroundColor = 'black';
        transformer3d.styles.atoms_displayLabels_3D = true;
        let methane =
            '297\n  ChemDood12280914543D\n\n  5  4  0     0  0  0  0  0  0999 V2000\n   -0.6833    0.8132    0.2538 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.1292    1.6128    0.7503 H   0  0  0  0  0  0  0  0  0  0  0  0\n    0.0000   -0.0002    0.0002 H   0  0  0  0  0  0  0  0  0  0  0  0\n   -1.4615    0.4397    0.9230 H   0  0  0  0  0  0  0  0  0  0  0  0\n   -1.1426    1.2006   -0.6583 H   0  0  0  0  0  0  0  0  0  0  0  0\n  1  2  1  0  0  0  0\n  1  3  1  0  0  0  0\n  1  4  1  0  0  0  0\n  1  5  1  0  0  0  0\nM  END\n';
        transformer3d.loadMolecule(ChemDoodle.readMOL(methane, 1));

        function get3DModel() {
            ChemDoodle.iChemLabs.optimize(sketcher.getMolecule(), {
                dimension: 3
            }, function(mol) {
                transformer3d.loadMolecule(mol);
            });
        }
        </script>
    </div>
</div>


                                            </div>
                </div>
            </div>
        </section>
        
        
</body>

</html>

</body>

</html>